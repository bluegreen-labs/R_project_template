<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your project • RTemplate</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,300;0,400;0,700;1,300;1,400&amp;display=swap" rel="stylesheet">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- ropensci --><link href="bglabs.css" rel="stylesheet">
<meta property="og:title" content="Your project">
<meta property="og:description" content="What the package does (one paragraph).">
<meta name="twitter:card" content="summary">
<!-- Mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">

    <div class="navbar-header">

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="external-link hidden-sm hidden-xs" href="https://bluegreenlabs.org">
          <img src="https://bluegreenlabs.org/img/logo_text_small.png" id="hexlogo" alt="bluegreen labs"></a>
        <a class="external-link hidden-md hidden-lg" href="https://bluegreenlabs.org">
          <img src="https://bluegreenlabs.org/img/logo.png" id="hexlogo" alt="bluegreen labs"></a>
        <a class="navbar-brand" href="index.html">
           <i>RTemplate <small>v0.1</small></i>
        </a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
        
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="the-bluegreen-labs-r-project-template">The BlueGreen Labs R project template<a class="anchor" aria-label="anchor" href="#the-bluegreen-labs-r-project-template"></a>
</h1></div>
<p>This is a github template for a BlueGreen Labs R project repository. This template can be loaded when creating a new project in github. As such you pre-populate a project with a standard set of directories. This ensures a project-oriented and consistent workflow across all lab members, and removes some of the mental overhead in making decisions on a project structure. It further helps in ensuring reproducible workflows, for more details on minimum standards on reproducibility consult <a href="https://onlinelibrary.wiley.com/doi/10.1002/ece3.9961" class="external-link">Jenkins et al. 2023</a>.</p>
<p>It must be noted that some of the functionality as provided by this setup is included in the <a href="https://usethis.r-lib.org/" class="external-link"><code>usethis</code></a> R package, the aim is slightly different. For one, <code>usethis</code> is aimed at populating a package structure. Second, there is not preset full template, hence many individual decisions still need to be made and code executed. This is bypassed by this setup.</p>
<blockquote>
<p>NOTE: The template uses BlueGreen Labs’ default package template. BlueGreen Labs does not take responsibility or endorses projects (accidentally) using BlueGreen Labs branding. Please remove branding by removing the ‘package’ line in the _pkgdown.yml file.</p>
</blockquote>
<div class="section level2">
<h2 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h2>
<div class="section level3">
<h3 id="a-github-project-from-the-template">A github project from the template<a class="anchor" aria-label="anchor" href="#a-github-project-from-the-template"></a>
</h3>
<p>To use the template create a new repository on github, as you otherwise would using the big green button. If you are in the project on github you can hit the green button top right (Use this template - note that the visuals are of a fork of this project but you get the gist of it).</p>
<div class="figure">
<img src="https://github.com/bluegreen-labs/R_project_template/assets/1354258/bf1b479a-6d74-4df2-93cf-abfabd01b950" alt=""><p class="caption">Screenshot from 2023-06-08 11-33-14</p>
</div>
<p>Otherwise you can select the repository from the template dropdown menu, select <code>bluegreen-labs/R_project_template</code>.</p>
<div class="figure">
<img src="https://github.com/bluegreen-labs/R_project_template/assets/1354258/f471817f-5829-49e2-b6db-53be07cf0740" alt=""><p class="caption">Screenshot from 2023-06-08 11-34-33</p>
</div>
<p>Proceed as usual by naming your repository. However, be careful to select the correct owner of the project if you have multiple identities.</p>
<div class="figure">
<img src="https://github.com/bluegreen-labs/R_project_template/assets/1354258/ed95b964-393d-459a-9c2c-5cd6265fb2f9" alt=""><p class="caption">Screenshot from 2023-06-08 11-33-36</p>
</div>
</div>
<div class="section level3">
<h3 id="clone-to-your-local-computer">Clone to your local computer<a class="anchor" aria-label="anchor" href="#clone-to-your-local-computer"></a>
</h3>
<p>The new repository will be created and populated with the files of the template. You can then clone the project to your local computer to add files.</p>
<p>Although optional it is wise to rename the <code>*.Proj</code> file as this will not automatically change to your repository name. However, retaining the original name should not change any of the functionality.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone git@github.com:USER/YOUR_PROJECT.git</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h2>
<p>The structure of the template follows the structure of an R package without actually being one. There are several reasons for this.</p>
<ul>
<li>Familiarizes you with an R package structure
<ul>
<li>allowing for an optional switch to an R package</li>
</ul>
</li>
<li>Avoids top level aggregation of data, code and reporting files</li>
<li>Splits the dynamic reporting from academic writing (<code>vignettes</code> vs. <code>manuscript</code>)</li>
<li>Splits pre-processing of data from working / included data (<code>data-raw</code> vs. <code>data</code>)</li>
<li>Splits R code from other scripts (bash / python in <code>src</code>)</li>
<li>Splits R functions from R analysis scripts (<code>R</code> vs <code>analysis</code>)</li>
</ul>
<p>Below you find a comprehensive list of what goes where an why, as well as some best practices on how to structure further data within these folders.</p>
<div class="section level3">
<h3 id="the-r-folder">The R folder<a class="anchor" aria-label="anchor" href="#the-r-folder"></a>
</h3>
<p>The <code>R</code> folder contains R functions, not scripts. This means code wrapped in a structure as such</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A demo function</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># This function demonstrates the general layout</span></span>
<span><span class="co"># of a function</span></span>
<span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">parameter</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">some_actions</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Functions are actions you need more than once, which can not be generated easily with external packages and are tailored to your project.</p>
<p>These functions should stand on their own with limited links to additional custom functions. Ideally you provide a brief title and description on the function’s purpose before.</p>
<p>Writing functions seems an initial waste of time, you could easily just copy and paste some code in your analysis scripts. However, this means that if you decide certain aspects of this workflow you might have to hunt down these changes in all analysis scripts. Failing to do so will result in corrupted analysis. In addition, writing functions will make it easy to re-use the code within the context of a new project, and if proven to be generally useful outside a single research project it can be integrated in a formal package.</p>
</div>
<div class="section level3">
<h3 id="the-src-folder">The src folder<a class="anchor" aria-label="anchor" href="#the-src-folder"></a>
</h3>
<p>The <code>src</code> folder contains scripts and code which is not R related, in packages this folder often contains Fortran or C code which needs to be compiled. Here, it is common to store bash or python functions which might assist in data cleaning or data gathering which can’t be done in R alone.</p>
</div>
<div class="section level3">
<h3 id="the-data-raw-folder">The data-raw folder<a class="anchor" aria-label="anchor" href="#the-data-raw-folder"></a>
</h3>
<p>The <code>data-raw</code> folder contains, as the name suggests, raw data and the scripts to download and pre-process the data. This is data which requires significant pre-processing to be of use in analysis. In other words, this data is not analysis ready (within the context of the project).</p>
<p>To create full transparency in terms of the source of this raw data it is best to include (numbered) scripts to download and pre-process the data. Either in these scripts, or in a separate README, include the source of the data (reference) Ultimately, the output of the workflow in data-raw is data which is analysis ready.</p>
<p>It is best practice to store various raw data products in their own sub-folder, with data downloading and processing scripts in the main <code>data-raw</code> folder.</p>
<pre><code>data-raw/
├─ raw_data_product/
├─ 00_download_raw_data.R
├─ 01_process_raw_data.R</code></pre>
<p>Where possible it is good practice to store output data (in <code>data</code>) either as human readable CSV files, or as R serialized files (generated using with the <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS()</a></code> function).</p>
<p>It is common that raw data is large in size, which limits the option of storing the data in a git repository. If this isn’t possible this data can be excluded from the git repository by explicitly adding directories to <code>.gitignore</code> to avoid accidentally adding them.</p>
<p>When dealing with heterogeneous systems dynamic paths can be set to (soft) link to raw-data outside the project directory.</p>
</div>
<div class="section level3">
<h3 id="the-data-folder">The data folder<a class="anchor" aria-label="anchor" href="#the-data-folder"></a>
</h3>
<p>The <code>data</code> folder contains analysis ready data. This is data which you can use, as is. This often contains the output of a <code>data-raw</code> pre-processing workflow, but can also include data which doesn’t require any intervention, e.g. a land cover map which is used as-is. Output from <code>data-raw</code> often undergoes a dramatic dimensionality reduction and will often fit github file size limits. In some cases however some data products will still be too large, it is recommended to use similar practices as describe for <code>data-raw</code> to ensure transparency on the sourcing of this data (and reproducible acquisition).</p>
<p>It is best to store data in transparently named sub-folders according to the product type, once more including references to the source of the data where possible. Once more, download scripts can be used to ensure this transparency as well.</p>
<pre><code>data/
├─ data_product/
├─ 00_download_data.R</code></pre>
</div>
<div class="section level3">
<h3 id="the-analysis-folder">The analysis folder<a class="anchor" aria-label="anchor" href="#the-analysis-folder"></a>
</h3>
<p>The <code>analysis</code> folder contains, <em>surprise</em>, R scripts covering analysis of your analysis ready data (in the <code>data</code> folder). These are R scripts with output which is limited to numbers, tables and figures. It should not include R markdown code!</p>
<p>It is often helpful to create additional sub-folders for statistics and figures, especially if figures are large and complex (i.e. visualizations, rather than graphical representations of statistical properties, such as maps).</p>
<p>Scripts can have a numbered prefix to indicate an order of execution, but this is generally less important as you will work on analysis ready data. If there is carry over between analysis, either merge the two files or use numbered prefixes.</p>
<pre><code>analysis/
├─ statistics/
│  ├─ 00_random_forest_model.R
│  ├─ 01_random_forest_tuning.R
├─ figures/
│  ├─ global_model_results_map.R
│  ├─ complex_process_visualization.R</code></pre>
<p>Output of the analysis routines can be written to file (<code>manuscript</code> folder) or visualized on the console or plot viewer panel.</p>
</div>
<div class="section level3">
<h3 id="the-manuscript-folder">The manuscript folder<a class="anchor" aria-label="anchor" href="#the-manuscript-folder"></a>
</h3>
<p>The <code>manuscript</code> folder contains a true working document often written in an external word processing software. It also, at times, contain the output of any analysis script, such as tables and rendered figures.</p>
<p>Thee can be an R markdown file if for example suitable templates can be found in the <a href="https://pkgs.rstudio.com/rticles/" class="external-link"><code>rticles</code></a> R package to facilitate publication. However, the use of R markdown should be done with much care (see notes on the <code>vignettes</code> folder). As before, use sub-folders to organize this work neatly.</p>
</div>
<div class="section level3">
<h3 id="the-vignettes-folder">The vignettes folder<a class="anchor" aria-label="anchor" href="#the-vignettes-folder"></a>
</h3>
<p>The <code>vignettes</code> folder contains dynamic notebooks, i.e. R markdown files. These might serve a dual use between analysis and manuscript. However, the use case in reality should be considered very narrowly. In general, as they are commonly used, R markdown files are rarely portable. The argument that it is easy to share rendered html files is invalid if you adhere to an open workflow with github based snapshots. The latter ensures that all code is visible, all data is visible, and the project is truly reproducible. Furthermore, R markdown documents mix two cognitive tasks, writing text and writing code. Switching between these two modes comes with undue overhead. If you code, you should not be writing prose, and vise versa.</p>
<p>Unless applied to small, educational, examples a markdown file has little place in a code heavy environment. In short, if your R markdown file contains more code than it does text, it should be considered an R script or function (with comments or documentation). Conversely, if your markdown file contains more text than code it probably is easier to collaborate on a true word processing file (or a Google Docs file). The use case where the notebooks might serve some importance is true reporting of general statistics.</p>
<p>Finally, the use of R markdown also encourages bad project management practices. Most commonly this originates from the fact that rendering of the document is relative to the location of the document itself. If no session management tools such as the package <a href="https://here.r-lib.org/" class="external-link"><code>here</code></a> are used this automatically causes files to pile up in the top most level of a project, undoing most efforts to structure data and code. This is further compounded by the fact that there is a tendency to remain within the working environment (document), and therefore code blocks which should be functions are not translated as such.</p>
<p>In short, R markdown files have their function in reporting results, once generated (through functions or analysis scripts) but should be avoided to develop code / ideas (see cognitive switching remark)!</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/AGPL-3" class="external-link">AGPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing RTemplate</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>X Y <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0000-0000-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/bluegreen-labs" target="_blank" class="external-link">
                          <div class="icon fab fa-github"></div></a>
                        <a href="https://bluegreenlabs.org/labs/" target="_blank" class="external-link">
                          <div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/bluegreen_labs" target="_blank" class="external-link">
                          <div class="icon fab fa-twitter"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://bluegreenlabs.org/#intro" class="external-link">BlueGreen Labs</a></li>
                            <li><a href="https://bluegreenlabs.org/#people" class="external-link">Our Team</a></li>
                            <li><a href="https://bluegreenlabs.org/#contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://github.com/bluegreen-labs" class="external-link">Packages</a></li>
                            <li><a href="https://bluegreenlabs.org/publication/" class="external-link">Publications</a></li>
                            <li><a href="https://bluegreenlabs.org/post/" class="external-link">Blog</a></li>
                        </ul>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  


  

  </body>
</html>
